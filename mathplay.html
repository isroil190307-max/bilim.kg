<!DOCTYPE html>
<html lang="ky">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ–∑ –≠—Å–µ–ø—Ç–µ - –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞–ª—ã–∫ –û—é–Ω</title>
    <style>
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            text-align: center; 
            background: #eef2f3; 
            padding-top: 50px; 
            margin: 0;
        }
        .game-card { 
            background: white; 
            padding: 30px; 
            border-radius: 25px; 
            display: inline-block; 
            box-shadow: 0 15px 35px rgba(0,0,0,0.1); 
            width: 380px;
            transition: 0.3s;
        }
        h1 { color: #2c3e50; margin-bottom: 10px; }
        #question { 
            font-size: 50px; 
            margin: 25px 0; 
            color: #2c3e50; 
            font-weight: bold; 
            min-height: 60px;
        }
        input { 
            padding: 12px; 
            font-size: 28px; 
            width: 140px; 
            border-radius: 12px; 
            border: 3px solid #3498db; 
            text-align: center; 
            outline: none;
            transition: 0.2s;
        }
        .stats { 
            display: flex; 
            justify-content: space-around; 
            font-size: 20px; 
            margin-bottom: 20px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 15px;
        }
        .score { color: #27ae60; font-weight: bold; }
        .timer { color: #e74c3c; font-weight: bold; }
        button { 
            padding: 15px 30px; 
            background: #3498db; 
            color: white; 
            border: none; 
            border-radius: 12px; 
            cursor: pointer; 
            font-size: 20px;
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(52, 152, 219, 0.3);
        }
        button:hover { background: #2980b9; }
        button:disabled { background: #bdc3c7; cursor: not-allowed; box-shadow: none; }
        .back-link {
            margin-top: 25px;
            display: block;
            text-decoration: none;
            color: #7f8c8d;
            font-weight: 500;
        }
        .back-link:hover { color: #2c3e50; }
    </style>
  <script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('sw.js')
        .then(reg => console.log('PWA –∏–π–≥–∏–ª–∏–∫—Ç“Ø“Ø –∫–∞—Ç—Ç–∞–ª–¥—ã!', reg.scope))
        .catch(err => console.log('–ö–∞—Ç—Ç–æ–æ–¥–æ –∫–∞—Ç–∞ –∫–µ—Ç—Ç–∏:', err));
    });
  }
</script>
</head>
<body>

<div class="game-card">
    <h1>–¢–µ–∑ –≠—Å–µ–ø—Ç–µ!</h1>
    
    <div class="stats">
        <div class="timer">‚è≥ –£–±–∞–∫—ã—Ç: <span id="time">30</span>—Å</div>
        <div class="score">üèÜ –£–ø–∞–π: <span id="score">0</span></div>
    </div>
    
    <div id="question">–î–∞—è—Ä—Å—ã–∑–±—ã?</div>
    
    <input type="number" id="userAnswer" placeholder="?" onkeyup="checkEnter(event)" disabled>
    <br><br>
    
    <button onclick="startGame()" id="startBtn">–û—é–Ω–¥—É –±–∞—à—Ç–æ–æ</button>
    <br><br>
    <a href="matematika.html" class="back-link">‚¨ÖÔ∏è –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –±”©–ª“Ø–º“Ø–Ω”© –∫–∞–π—Ç—É—É</a>
</div>

<script>
    let currentAnswer;
    let score = 0;
    let timeLeft = 30;
    let timerInterval;
    let gameActive = false;

    const questionEl = document.getElementById('question');
    const answerInput = document.getElementById('userAnswer');
    const scoreEl = document.getElementById('score');
    const timeEl = document.getElementById('time');
    const startBtn = document.getElementById('startBtn');

    function startGame() {
        score = 0;
        timeLeft = 30;
        gameActive = true;
        
        scoreEl.innerText = score;
        timeEl.innerText = timeLeft;
        answerInput.disabled = false;
        startBtn.disabled = true;
        answerInput.focus();
        
        nextQuestion();
        
        clearInterval(timerInterval);
        timerInterval = setInterval(() => {
            timeLeft--;
            timeEl.innerText = timeLeft;
            
            if (timeLeft <= 0) {
                endGame();
            }
        }, 1000);
    }

    function nextQuestion() {
        if (!gameActive) return;
        
        // 1–¥–µ–Ω 20–≥–∞ —á–µ–π–∏–Ω–∫–∏ —Å–∞–Ω–¥–∞—Ä
        let n1 = Math.floor(Math.random() * 20) + 1;
        let n2 = Math.floor(Math.random() * 20) + 1;
        currentAnswer = n1 + n2;
        
        questionEl.innerText = `${n1} + ${n2} = ?`;
        answerInput.value = "";
        answerInput.style.backgroundColor = "white";
        answerInput.focus();
    }

    function checkAnswer() {
        if (!gameActive || answerInput.value === "") return;
        
        let val = parseInt(answerInput.value);
        
        if (val === currentAnswer) {
            score++;
            answerInput.style.backgroundColor = "#d4edda"; // –¢—É—É—Ä–∞ –±–æ–ª—Å–æ –∂–∞—à—ã–ª
        } else {
            // –ö–∞—Ç–∞ –±–æ–ª—Å–æ —É–ø–∞–π –∫–µ–º–∏—Ç–∏–ª–±–µ–π—Ç (–∂–µ –∫–∞–∞–ª–∞—Å–∞“£—ã–∑ score-- –∫—ã–ª—Å–∞“£—ã–∑ –±–æ–ª–æ—Ç)
            answerInput.style.backgroundColor = "#f8d7da"; // –ö–∞—Ç–∞ –±–æ–ª—Å–æ –∫—ã–∑—ã–ª
        }
        
        scoreEl.innerText = score;

        // –ñ–æ–æ–ø –∫–∞–Ω–¥–∞–π –±–æ–ª–±–æ—Å—É–Ω 0.2 —Å–µ–∫—É–Ω–¥–¥–∞–Ω –∫–∏–π–∏–Ω –∫–∏–π–∏–Ω–∫–∏ —Å—É—Ä–æ–æ–≥–æ ”©—Ç”©—Ç
        setTimeout(nextQuestion, 200);
    }

    function checkEnter(event) {
        if (event.key === "Enter") {
            checkAnswer();
        }
    }

    function endGame() {
        gameActive = false;
        clearInterval(timerInterval);
        answerInput.disabled = true;
        startBtn.disabled = false;
        startBtn.innerText = "–ö–∞–π—Ä–∞ –±–∞—à—Ç–æ–æ";
        questionEl.innerText = "–£–±–∞–∫—ã—Ç –±“Ø—Ç—Ç“Ø!";
        
        // –û—é–Ω –±“Ø—Ç–∫”©–Ω–¥”© –≥–∞–Ω–∞ –∂—ã–π—ã–Ω—Ç—ã–∫—Ç—ã —á—ã–≥–∞—Ä—É—É
        setTimeout(() => {
            alert("–û—é–Ω –±“Ø—Ç—Ç“Ø! –°–∏–∑–¥–∏–Ω –∂–∞–ª–ø—ã —É–ø–∞–π—ã“£—ã–∑: " + score);
        }, 100);
    }
</script>

</body>
</html>